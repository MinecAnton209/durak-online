<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞ –î—É—Ä–µ–Ω—å –û–Ω–ª–∞–π–Ω</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="welcome-screen">
        <h1>–î—É—Ä–µ–Ω—å –û–Ω–ª–∞–π–Ω</h1>

        <div id="user-profile" style="display: none;">
            <p>–í–∏ —É–≤—ñ–π—à–ª–∏ —è–∫ <strong id="profile-username"></strong></p>
            <div class="stats">
                <span>üèÜ –ü–µ—Ä–µ–º–æ–≥: <b id="profile-wins">0</b></span>
                <span>üíî –ü–æ—Ä–∞–∑–æ–∫: <b id="profile-losses">0</b></span>
            </div>
            <button id="logoutBtn" class="secondary-btn">–í–∏–π—Ç–∏</button>
        </div>

        <div id="guest-login">
            <div class="auth-buttons">
                <button id="showLoginBtn" class="secondary-btn">–í—Ö—ñ–¥</button>
                <button id="showRegisterBtn" class="secondary-btn">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</button>
            </div>
            <p class="separator"><span>–ê–ë–û</span></p>
            <div class="settings-form">
                <div class="form-group">
                    <label for="playerNameInput">–í–∞—à–µ —ñ–º'—è (—è–∫ –≥–æ—Å—Ç—è):</label>
                    <input type="text" id="playerNameInput" placeholder="–ì—Ä–∞–≤–µ—Ü—å 1">
                </div>
            </div>
        </div>

        <div id="game-creation-controls">
            <div class="settings-form">
                <div class="form-group">
                    <label for="deckSize">–†–æ–∑–º—ñ—Ä –∫–æ–ª–æ–¥–∏:</label>
                    <select id="deckSize">
                        <option value="36" selected>36 –∫–∞—Ä—Ç</option>
                        <option value="52">52 –∫–∞—Ä—Ç–∏</option>
                        <option value="24">24 –∫–∞—Ä—Ç–∏</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="maxPlayers">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞–≤—Ü—ñ–≤:</label>
                    <select id="maxPlayers">
                        <option value="2" selected>2 –≥—Ä–∞–≤—Ü—ñ</option>
                        <option value="3">3 –≥—Ä–∞–≤—Ü—ñ</option>
                        <option value="4">4 –≥—Ä–∞–≤—Ü—ñ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customGameId">–°–≤–æ—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ):</label>
                    <input type="text" id="customGameId" placeholder="MY-COOL-GAME">
                </div>
                <button id="createGameBtn">–°—Ç–≤–æ—Ä–∏—Ç–∏ –≥—Ä—É</button>
            </div>
            <div id="join-game-section" style="display: none;">
                <p>–ü—Ä–∏—î–¥–Ω–∞–π—Ç–µ—Å—å –¥–æ –≥—Ä–∏ –¥—Ä—É–≥–∞:</p>
                <button id="joinGameBtn">–ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—å</button>
            </div>
        </div>
        
        <p id="error-message" class="error" style="display: none;"></p>
    </div>

    <div id="lobby-screen" style="display: none;">
        <h2>–ö—ñ–º–Ω–∞—Ç–∞: <span id="lobbyGameId"></span></h2>
        <p>–ü–æ—Å–∏–ª–∞–Ω–Ω—è –¥–ª—è –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è:</p>
        <div class="invite-link-wrapper">
            <input type="text" id="lobbyInviteLink" readonly>
            <div id="copyLobbyLinkBtn" class="copy-icon-btn" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
            </div>
        </div>
        <hr>
        <h3>–ì—Ä–∞–≤—Ü—ñ –≤ –∫—ñ–º–Ω–∞—Ç—ñ:</h3>
        <ul id="player-list"></ul>
        <p id="lobby-status">–û—á—ñ–∫—É—î–º–æ –Ω–∞ —ñ–Ω—à–∏—Ö –≥—Ä–∞–≤—Ü—ñ–≤...</p>
        <div id="host-controls" style="display: none;">
            <button id="startGameBtn" disabled>–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
        </div>
    </div>

    <div id="game-screen" style="display: none;">
        <div class="game-header">
            <div class="invite-link-wrapper">
                <input type="text" id="inviteLink" readonly>
                <div id="copyLinkBtn" class="copy-icon-btn" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                </div>
            </div>
        </div>
        <div id="opponents-container"></div>
        <div id="deck-area">
            <div id="deck-pile-visual">
                <div class="card card-back"></div> 
                <span id="deck-count-display">?</span>
            </div>
        </div>
        <div id="table-area">
            <div id="game-info-bar"><span id="trump-card-display">–ö–æ–∑–∏—Ä: ?</span></div>
            <p id="turn-status" class="turn-status"></p>
            <div id="game-table" class="card-hand"></div>
            <div id="action-buttons"></div>
        </div>
        <div id="player-area" class="player-area">
            <h3>–í–∏: <span id="playerName"></span></h3>
            <div id="player-cards" class="card-hand"></div>
        </div>
    </div>

    <div id="winner-screen" style="display: none;">
        <h2 id="winner-message"></h2>
        <button id="rematchBtn">–†–µ–≤–∞–Ω—à</button>
        <p id="rematch-status"></p>
        <a href="/"><button class="secondary-btn">–í–∏–π—Ç–∏ –≤ –≥–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é</button></a>
    </div>

    <div id="center-animation-container"></div>
    <div id="error-toast"></div>

    <div id="auth-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-btn">√ó</span>
            <h2 id="modal-title">–í—Ö—ñ–¥</h2>
            <form id="auth-form">
                <div class="form-group">
                    <label for="authUsername">–Ü–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:</label>
                    <input type="text" id="authUsername" required>
                </div>
                <div class="form-group">
                    <label for="authPassword">–ü–∞—Ä–æ–ª—å:</label>
                    <input type="password" id="authPassword" required>
                </div>
                <p id="auth-error" class="error"></p>
                <button type="submit" id="authSubmitBtn">–£–≤—ñ–π—Ç–∏</button>
            </form>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/client.js"></script>
</body>
</html>